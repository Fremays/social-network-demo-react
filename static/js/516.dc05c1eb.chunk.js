"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[516],{7516:function(e,t,s){s.r(t),s.d(t,{default:function(){return q},withRouter:function(){return E}});var o=s(5671),n=s(3144),i=s(136),r=s(7277),a=s(8683),c=s(2791),l=s(885),u="ProfileInfo_content__avatar__Oojpb",d="ProfileInfo_description__HYstq",p="ProfileInfo_status__pQZUd",h="ProfileInfo_contact__aU5yH",f=s(5450),x=s(9389),m=s(184),j=function(e){var t=(0,c.useState)(!1),s=(0,l.Z)(t,2),o=s[0],n=s[1],i=(0,c.useState)(e.status),r=(0,l.Z)(i,2),a=r[0],u=r[1];(0,c.useEffect)((function(){u(e.status)}),[e.status]);return(0,m.jsxs)("div",{children:[!o&&(0,m.jsxs)("div",{className:p,children:[(0,m.jsx)("b",{children:"\u0421\u0442\u0430\u0442\u0443\u0441 "}),(0,m.jsx)("span",{onDoubleClick:function(){n(!0)},children:e.status||"------------"})]}),o&&(0,m.jsx)("div",{children:(0,m.jsx)("input",{autoFocus:!0,onChange:function(e){u(e.currentTarget.value)},onBlur:function(){n(!1),e.updateStatus(a)},value:a})})]})},v=s(4165),g=s(5861),b=s(5705),k=function(e){return(0,m.jsx)("div",{children:(0,m.jsx)(b.J9,{initialValues:{fullName:e.fullName,lookingForAJob:e.lookingForAJob,lookingForAJobDescription:e.lookingForAJobDescription,aboutMe:e.aboutMe},onSubmit:function(){var t=(0,g.Z)((0,v.Z)().mark((function t(s,o){return(0,v.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.saveProfile(s,o.setStatus);case 2:0===t.sent.resultCode&&e.setEditMode(!1);case 4:case"end":return t.stop()}}),t)})));return function(e,s){return t.apply(this,arguments)}}(),validationSchema:"",children:function(t){return(0,m.jsxs)(b.l0,{children:[(0,m.jsx)("div",{children:(0,m.jsx)(b.gN,{type:"text",name:"fullName",placeholder:"\u041f\u043e\u043b\u043d\u043e\u0435 \u0438\u043c\u044f"})}),(0,m.jsx)(b.Bc,{name:"fullName",component:"div"}),(0,m.jsxs)("div",{children:[(0,m.jsx)(b.gN,{type:"checkbox",name:"lookingForAJob"}),(0,m.jsx)("label",{htmlFor:"lookingForAJob",children:" \u0418\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443? "})]}),(0,m.jsx)("div",{children:(0,m.jsx)(b.gN,{type:"text",name:"lookingForAJobDescription",placeholder:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043d\u0430\u0432\u044b\u043a\u043e\u0432"})}),(0,m.jsx)(b.Bc,{name:"lookingForAJobDescription",component:"div"}),(0,m.jsx)("div",{children:(0,m.jsx)(b.gN,{type:"text",name:"aboutMe",placeholder:"\u041e\u0431 \u043e \u043c\u043d\u0435"})}),(0,m.jsx)(b.Bc,{name:"aboutMe",component:"div"}),(0,m.jsxs)("div",{children:[(0,m.jsx)("b",{children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"})," - ",Object.keys(e.contacts).map((function(e){return(0,m.jsxs)("div",{className:h,children:[(0,m.jsx)("div",{children:(0,m.jsx)(b.gN,{type:"text",name:"contacts."+e,placeholder:e})}),(0,m.jsx)(b.Bc,{name:"contacts."+e,component:"div"})]},e)}))]}),t&&t.message&&(0,m.jsx)("div",{className:"message",children:t.message}),(0,m.jsx)("button",{type:"submit",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),t.status&&t.status.message&&(0,m.jsx)("div",{children:t.status.message})]})}})})},A=function(e){return(0,m.jsxs)("div",{children:[(0,m.jsx)("div",{children:e.isOwner&&(0,m.jsx)("button",{onClick:e.goToEditMode,children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})}),(0,m.jsxs)("div",{children:[(0,m.jsx)("b",{children:"\u041c\u0435\u043d\u044f \u0437\u043e\u0432\u0443\u0442"})," - ",e.fullName]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("b",{children:"\u0418\u0449\u0443 \u043b\u0438 \u044f \u0440\u0430\u0431\u043e\u0442\u0443?"})," - ",e.lookingForAJob?"\u0414\u0430":"\u041d\u0435\u0442"]}),e.lookingForAJob&&(0,m.jsxs)("div",{children:[(0,m.jsx)("b",{children:"\u041c\u043e\u0438 \u043d\u0430\u0432\u044b\u043a\u0438 - "})," - ",e.lookingForAJobDescription]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("b",{children:"\u041e\u0431 \u043e \u043c\u043d\u0435"})," - ",e.aboutMe]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("b",{children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"})," - ",Object.keys(e.contacts).map((function(t){return(0,m.jsx)(N,{contactTitle:t,contactValue:e.contacts[t]},t)}))]})]})},N=function(e){return(0,m.jsxs)("div",{className:h,children:[(0,m.jsx)("b",{children:e.contactTitle})," - ",e.contactValue]})},P=function(e){var t=(0,c.useState)(!1),s=(0,l.Z)(t,2),o=s[0],n=s[1];if(!e.profile)return(0,m.jsx)(f.Z,{});return(0,m.jsx)("div",{children:(0,m.jsxs)("div",{className:d,children:[(0,m.jsx)("img",{className:u,alt:"avatar",src:e.profile.photos.small?e.profile.photos.small:x}),e.isOwner&&(0,m.jsx)("input",{type:"file",onChange:function(t){t.target.files.length&&e.savePhoto(t.target.files[0])}}),o?(0,m.jsx)(k,{lookingForAJob:e.profile.lookingForAJob,fullName:e.profile.fullName,lookingForAJobDescription:e.profile.lookingForAJobDescription,aboutMe:e.profile.aboutMe,contacts:e.profile.contacts,saveProfile:e.saveProfile,setEditMode:n}):(0,m.jsx)(A,{lookingForAJob:e.profile.lookingForAJob,fullName:e.profile.fullName,lookingForAJobDescription:e.profile.lookingForAJobDescription,aboutMe:e.profile.aboutMe,contacts:e.profile.contacts,isOwner:e.isOwner,goToEditMode:function(){n(!0)}}),(0,m.jsx)(j,{status:e.status,updateStatus:e.updateStatus})]})})},_=s(6070),y="MyPosts_item__BiMea",F="MyPosts_posts__V0DaV",Z="Post1_item__ZUN6W",J="Post1_profile__uTSgR",S=function(e){return(0,m.jsxs)("div",{className:Z,children:[(0,m.jsx)("img",{className:J,src:"https://f8n-production-collection-assets.imgix.net/0xf985Dd42a1Fca2957287634E8A69d77348717BDB/4/nft.jpg?q=80&auto=format%2Ccompress&cs=srgb&h=640",alt:"avatar"}),e.message,(0,m.jsx)("div",{children:(0,m.jsxs)("span",{children:["Like  - ",e.likecount]})})]})},D=s(7103),M=D.Ry().shape({textArea:D.Z_().min(1,"This area can't be empty")}),w=function(e){return(0,m.jsx)("div",{children:(0,m.jsx)(b.J9,{initialValues:{textArea:""},validate:function(e){var t={};return e.textArea||(t.textArea="This area can't be empty"),t},onSubmit:function(t){console.log(t),e.addPost(t.textArea),t.textArea=""},validationSchema:M,children:function(){return(0,m.jsxs)(b.l0,{children:[(0,m.jsx)("div",{children:(0,m.jsx)(b.gN,{type:"text",name:"textArea",placeholder:"",className:y})}),(0,m.jsx)(b.Bc,{name:"textArea",component:"div"}),(0,m.jsx)("button",{type:"submit",children:"Add post"})]})}})})},I=function(e){var t=e.posts.map((function(e){return(0,m.jsx)(S,{message:e.message,likecount:e.likes},e.id)}));return(0,m.jsxs)("div",{className:y,children:[(0,m.jsx)(w,{addPost:e.addPost}),(0,m.jsx)("div",{className:F,children:"New post"}),t]})},C=s(9101),O=(0,C.$j)((function(e){return{posts:e.profilePage.posts}}),(function(e){return{addPost:function(t){e((0,_.Wl)(t))}}}))(I),B=function(e){return(0,m.jsxs)("div",{children:[(0,m.jsx)(P,{profile:e.profile,updateStatus:e.updateStatus,status:e.status,isOwner:e.isOwner,savePhoto:e.savePhoto,saveProfile:e.saveProfile}),(0,m.jsx)(O,{})]})},U=s(7689),T=s(1548),R=s(7781);function E(e){return function(t){var s={params:(0,U.UO)()};return(0,m.jsx)(e,(0,a.Z)((0,a.Z)({},t),{},{match:s}))}}var V=function(e){(0,i.Z)(s,e);var t=(0,r.Z)(s);function s(){return(0,o.Z)(this,s),t.apply(this,arguments)}return(0,n.Z)(s,[{key:"profileRefresh",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId),this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.profileRefresh()}},{key:"componentDidUpdate",value:function(e,t,s){this.props.match.params.userId!==e.match.params.userId&&this.profileRefresh()}},{key:"render",value:function(){return(0,m.jsx)("div",{children:(0,m.jsx)(B,(0,a.Z)((0,a.Z)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,isOwner:!this.props.match.params.userId,savePhoto:this.props.savePhoto}))})}}]),s}(c.Component),q=(0,R.qC)((0,C.$j)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{getUserProfile:_.et,getStatus:_.lR,updateStatus:_.Nf,savePhoto:_.Ju,saveProfile:_.Ii}),E,T.D)(V)},1548:function(e,t,s){s.d(t,{D:function(){return h}});var o=s(8683),n=s(5671),i=s(3144),r=s(136),a=s(7277),c=s(2791),l=s(7689),u=s(9101),d=s(184),p=function(e){return{isAuth:e.auth.isAuth}},h=function(e){var t=function(t){(0,r.Z)(c,t);var s=(0,a.Z)(c);function c(){return(0,n.Z)(this,c),s.apply(this,arguments)}return(0,i.Z)(c,[{key:"render",value:function(){return this.props.isAuth||this.props.match&&this.props.match.params.userId?(0,d.jsx)(e,(0,o.Z)({},this.props)):(0,d.jsx)(l.Fg,{to:"/login"})}}]),c}(c.Component);return(0,u.$j)(p)(t)}},9389:function(e,t,s){e.exports=s.p+"static/media/avatar.31eda0a970a6a69c92c0.jpg"}}]);
//# sourceMappingURL=516.dc05c1eb.chunk.js.map